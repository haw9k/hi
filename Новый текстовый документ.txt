2.26.Таблица price_restrictions-Ограничения по наценке и изменению цен, заданные ГК или директором магазина.
Поле
Тип данных
Описание
id
UUID
Уникальный идентификатор записи
product_id
UUID
Ссылка на товар (product.id)
min_markup_percent
NUMERIC(5,2)
Минимальная допустимая наценка на товар в процентах
max_markup_percent
NUMERIC(5,2)
Максимальная допустимая наценка на товар в процентах
min_price
NUMERIC(10,2)
Минимально допустимая цена реализации
max_price
NUMERIC(10,2)
Максимально допустимая цена реализации
created_at
TIMESTAMP
Дата и время установки ограничения

Связи:

product_id → products.id (таблица products)
2.18. Таблица price_list_items — позиции прайс-листа

Поле
Тип данных
Описание
id
UUID
PK
price_list_id
UUID
FK
product_id
UUID
FK
input_price
NUMERIC(10,2)
Входная цена 
final_price
NUMERIC(10,2)
Итоговая цена
price_type
VARCHAR(20)
Тип цены (регулярная, уценочная, акционная).
limit_markup_percent
NUMERIC(10,2)
Макс. наценка (например 15%)


Связи:
price_list_id → price_lists.id (таблица price_lists)


product_id → products.id (таблица products)


2.17. Таблица price_lists — прайс-листы

Поле
Тип данных
Описание
id
UUID
PK
type
VARCHAR(20)
Основной регулярный прайс-лист,Акционные предложения ("1+1", "2+1",”3+1”),Прайс-листы от конкретных поставщиков,Цены конкурентов для подстройки,Прайс-лист уценочных товаров,Общесетевые акции


effective_date
DATE
Когда цена вступает в силу
status
VARCHAR(20)
«активен», «отклонен»
end date
DATE
когда истекает срок действия
created_by
UUID
Кто создал

Связи:
created_by → employees.id (таблица employees)


id ← price_list_items.price_list_id (таблица price_list_items)
2.37.Таблица product_categories-Категории товаров (например: молочные, хлеб, детское питание и т.д.)
Поле
Тип данных
Описание
id
UUID
Уникальный идентификатор категории
name
VARCHAR(100)
Наименование категории
parent_id
UUID
Ссылка на родительскую категорию (для иерархии)

Связи:

parent_id → product_categories.id (таблица product_categories)
 
2.38.Таблица product_category_links-Связь товара с его категорией.
Поле
Тип данных
Описание
id
UUID
Уникальный идентификатор связи
product_id
UUID
Ссылка на товар (product.id)
category_id
UUID
Ссылка на категорию (product_categories.id)

Связи:

product_id → products.id (таблица products)


category_id → product_categories.id (таблица product_categories)



